var ClickBackRS;(function(n){function ki(){ur()&&(di(),sj_evt.bind("load_clickback_rs",it,!0),sj_evt.bind("ajax.unload",ui))}function di(){var u,f,o,n,h,l;if(typeof _G=="undefined"||_G.EF===undefined||_G.EF.cbRSInLastMLTA===undefined||_G.EF.cbRSInLastMLTA!==1||typeof ClickBackRSUtility=="undefined"||ClickBackRSUtility.isRSInViewport()||ut(s)?typeof _G=="undefined"||_G.EF===undefined||_G.EF.cbRSInFirstAlgo===undefined||_G.EF.cbRSInFirstAlgo!==1||typeof ClickBackRSUtility=="undefined"||ClickBackRSUtility.isRSInViewport()||ut(s)||(t=ClickBackRSUtility.getFirstAlgo(),!t||t.classList.contains("b_algoBorder")||t.classList.contains("b_algoBigWiki")||(typeof _G!="undefined"&&_G.EF!==undefined&&_G.EF.cbRSInFirstAlgoFlare!==undefined&&_G.EF.cbRSInFirstAlgoFlare===1&&Log&&Log.LogFilterFlare&&Log.LogFilterFlare(["cbrsFirstAlgo"]),typeof _G!="undefined"&&_G.EF!==undefined&&_G.EF.renderCBRSInFirstAlgo!==undefined&&_G.EF.renderCBRSInFirstAlgo===1&&rt())):(t=ClickBackRSUtility.getLastMLTA(),t&&(r=ClickBackRSUtility.getMLTABlock(),typeof _G!="undefined"&&_G.EF!==undefined&&_G.EF.cbRSInLastMLTAFlare!==undefined&&_G.EF.cbRSInLastMLTAFlare===1&&Log&&Log.LogFilterFlare&&Log.LogFilterFlare(["cbrsLastMLTA"]),typeof _G!="undefined"&&_G.EF!==undefined&&_G.EF.cbRSBelowMLTA!==undefined&&_G.EF.cbRSBelowMLTA===1&&rt())),pt())i=e()?document.querySelectorAll([p,ft].join(",")):document.querySelectorAll(p);else if(typeof _G!="undefined"&&((u=_G===null||_G===void 0?void 0:_G.EF)===null||u===void 0?void 0:u.clickbackRSonTopW)===1)i=e()?document.querySelectorAll([ft,c,w].join(",")):document.querySelectorAll([c,w].join(","));else{if(n=_ge("b_results"),n==null)return;i=e()?n.querySelectorAll([ft,c].join(",")):n.querySelectorAll(c)}i!=null&&(typeof _G!="undefined"&&((f=_G===null||_G===void 0?void 0:_G.EF)===null||f===void 0?void 0:f.clickbackRSonTopWFlare)===1&&(h=document.querySelectorAll(w),h&&h.length>0&&Log&&Log.LogFilterFlare&&Log.LogFilterFlare(["cbrstopwflare"])),l=sr(ot),typeof _w!="undefined"&&l&&(sj_be(_d,ot.visibilityChangedEventName,ri),sj_evt.bind("ajax.unload",fi)),k=document.querySelectorAll(li),pr(),tr(),typeof _G!="undefined"&&((o=_G===null||_G===void 0?void 0:_G.EF)===null||o===void 0?void 0:o.clickbackRSAfterOnP1)===1?sj_evt.bind("onP1",function(){sb_st(ii,wi)}):ii(),sessionStorage[s]&&sessionStorage.removeItem(s),sessionStorage[b]&&sessionStorage.removeItem(b),fu())}function it(){var n,r;if(d=ut(s),st=ut(b),i&&d&&st){for(t=null,n=0;n<i.length;n++)if(r=i[n],r&&d==r.getAttribute("href")&&st==n.toString()){t=at(r);break}if(t){if(e()){if(t.querySelector(".b_rs")||gr(t))return}else if(pt()&&(t.classList.contains("b_algoBorder")||t.classList.contains("b_algoBigWiki")||hi(t)))return;rt()}}}function gi(){var n=document.querySelectorAll("#inline_rs .rslist .b_suggestionText"),i,t,r;if(!n||n.length===0)return"";for(i=[],t=0;t<n.length;t++)r=n[t].textContent,r&&i.push(r);return i.join(",")}function rt(n){var i,r,u,f,o,s;if((n===void 0&&(n=!1),!e()||((i=t===null||t===void 0?void 0:t.classList)===null||i===void 0?!void 0:!i.contains("b_ans"))||(kr()&&Log&&Log.LogFilterFlare&&Log.LogFilterFlare(["cbRSOnAnswerFlare"]),!dr()))&&!ht&&t){if(f=t.querySelector(g),f){ti(f);return}(t===null||t===void 0?void 0:t.classList.contains("b_algo"))?(o=yi.replace(/\&amp\;/g,"&")+"&IG="+_G.IG+"&url="+hr(t)+"&q="+er()+"&iid="+t.getAttribute("iid")+"&boprs="+gi(),h("RSClickBackRequest",d||""),typeof _G!="undefined"&&((u=_G===null||_G===void 0?void 0:_G.EF)===null||u===void 0?void 0:u.clickbackAjaxRsFlare)===1&&Log&&Log.LogFilterFlare&&Log.LogFilterFlare(["cbrsajaxflare"]),ht=!0,s=t,sj_ajax(o,{callback:function(i,r){var f,u,e;(ht=!1,t===s)&&(i&&r?(u=sj_ce("div"),r.appendTo(u),((f=u.querySelectorAll(g))===null||f===void 0?void 0:f.length)==1?(h("RSClickBackResponse","true"),fr()?y(n):(e=u.querySelector(g),y(n,e))):(y(n),h("RSClickBackResponse","false"))):(y(n),h("RSClickBackResponse","false")))}})):(typeof _G!="undefined"&&((r=_G===null||_G===void 0?void 0:_G.EF)===null||r===void 0?void 0:r.clickbackRsAdsFlare)===1&&Log&&Log.LogFilterFlare&&Log.LogFilterFlare(["cbrsAdsFlare"]),y(n))}}function y(n,t){(n===void 0&&(n=!1),t===void 0&&(t=_ge(ai)),t)&&(a=t,nr(a),n?(lt=!1,h("RSHoverShow","Triggered"),Log.LogFilterFlare(["cbRSHover"])):ti(a))}function ti(n){if(n){l&&l!=n&&!l.classList.contains(f)&&Lib.CssClass.add(l,f);si()&&n&&n.parentElement?(n.parentElement.id==="b_topw"?n.classList.contains(o)||Lib.CssClass.add(n,o):n.classList.contains(et)||Lib.CssClass.add(n,et),sj_evt.fire("renderCBRS")):n.classList.contains(o)&&Lib.CssClass.remove(n,o);n.classList.contains(f)&&Lib.CssClass.remove(n,f);var t=n.offsetHeight;n.style.height=t+"px";lt=!1;l=n;rr(n)}}function nr(n){var u,s,c,l,y,i,v;if(n&&t)if(n.classList.contains(ct)||Lib.CssClass.add(n,ct),n.classList.contains(f)||Lib.CssClass.add(n,f),h("Show","Triggered"),typeof _G!="undefined"&&((u=_G===null||_G===void 0?void 0:_G.EF)===null||u===void 0?void 0:u.clickbackRSFlare)===1&&Log&&Log.LogFilterFlare&&Log.LogFilterFlare(["cbrsflare"]),y=t.offsetHeight-vi,Lib.CssClass.add(t,"qbrs"),t.setAttribute("data-oAH",y+"px"),si()&&bt&&r)bt=!1,n.style.marginBottom="10px",r.id==="b_topw"?(Lib.CssClass.add(n,o),r.appendChild(n)):((s=r.parentElement)===null||s===void 0?void 0:s.id)==="b_topw"&&r.classList.contains("b_ans")?(Lib.CssClass.add(n,o),r.parentNode&&r.parentNode.insertBefore(n,r)):(Lib.CssClass.add(n,et),r.nextSibling&&r.parentNode&&r.parentNode.insertBefore(n,r.nextSibling));else if(!e()||t.classList.contains("sb_adTA")){if(i=t.querySelector(g),i){a=i;return}t.appendChild(n)}else{if(i=((l=(c=t.nextElementSibling)===null||c===void 0?void 0:c.classList)===null||l===void 0?void 0:l.contains(ct))?t.nextElementSibling:null,i){a=i;return}Lib.CssClass.add(n,"b_ans");n.style.paddingTop="0";n.style.marginBottom="4px";n.style.marginTop="-4px";v=t.parentNode;v&&t.nextSibling&&v.insertBefore(n,t.nextSibling)}}function tr(){var u,h,l,t,f,n,o,s,r,a;if(i)for(h=pt()||e()?i.length:i.length-1,l=function(n){var r=i[n],u,t;sj_be(r,"click",function(){vt(r.getAttribute("href"),n.toString())});u=at(r);t=u?u.querySelector(ci):null;t&&t!=wt&&sj_be(t,"click",function(){vt(r.getAttribute("href"),n.toString())});wt=t},n=0;n<h;n++)l(n);if(typeof _G!="undefined"&&((u=_G===null||_G===void 0?void 0:_G.EF)===null||u===void 0?void 0:u.clickbackRSonAdAlgoFlare)===1&&(t=_d.querySelectorAll(p),f=_d.querySelectorAll([c,w].join(",")),t.length>0))for(n=0;n<t.length;n++){for(o=t[n],s=!0,r=0;r<f.length;r++)if(a=f[r],o.getAttribute("href")===a.getAttribute("href")){s=!1;break}s&&sj_be(o,"click",function(){Log&&Log.LogFilterFlare&&Log.LogFilterFlare(["cbrsadalgoflare"])})}}function ii(){var t,n;if(k)for(t=0;t<k.length;t++)n=k[t],n.classList.contains("b_algoBorder")||n.classList.contains("b_algoBigWiki")||(sj_be(n,"mouseover",lr),sj_be(n,"mouseleave",ar),sj_be(n,"mouseout",vr))}function ir(n){n&&n&&!n.classList.contains(f)&&Lib.CssClass.add(n,f)}function ri(){it()}function rr(n){var t,i,r;if(n&&(t=n.querySelector(".b_clickback_close, #rscar_close"),t)){for(i=0;i<v.length;i++)if(v[i].element===t){sj_ue(t,"click",v[i].handler);v.splice(i,1);break}r=function(){return ir(n)};v.push({element:t,handler:r});sj_be(t,"click",r)}}function ui(){sj_evt.unbind("load_clickback_rs",it);sj_evt.unbind("ajax.unload",ui)}function fi(){sj_ue(_d,ot.visibilityChangedEventName,ri);sj_evt.unbind("ajax.unload",fi)}function ur(){var n="sschkad",t="sschvad",i;try{if(typeof Storage=="undefined"||typeof sessionStorage=="undefined"||(sessionStorage.setItem(n,t),i=sessionStorage.getItem(n),sessionStorage.removeItem(n),i!=t))return!1}catch(r){return!1}return!0}function at(n){for(var t,i,u=Array.prototype.slice.call(document.querySelectorAll(p)),f=u.includes(n),r;n&&n.id!="b_results";){if(e()){if(f&&n.classList&&(n.classList.contains("b_algo")||n.classList.contains("sb_adTA"))||n.classList&&n.classList.contains("b_ans")&&(((t=n.parentElement)===null||t===void 0?void 0:t.id)==="b_results"||((i=n.parentElement)===null||i===void 0?void 0:i.id)==="b_topw"))return n}else if(n.classList&&(n.classList.contains("b_algo")||n.classList.contains("sb_adTA")))return n;if(r=n.parentElement,!r)break;n=r}return null}function ut(n){return sessionStorage[n]?sessionStorage.getItem(n):null}function vt(n,t){sessionStorage.setItem(s,n);sessionStorage.setItem(b,t)}function fr(){return typeof _G!="undefined"&&_G.EF!==undefined&&_G.EF.clickbackRScflog!==undefined&&_G.EF.clickbackRScflog===1}function h(n,t){_w.sj_log&&sj_log("CI.RSSQB",n,t)}function er(){return ei(window.location.search,"q")}function or(){var i=undefined,r=undefined,t,n;if("hidden"in _d)i="hidden",r="visibilitychange";else for(t=["webkit","moz","ms","o"],n=0;n<t.length;n++)if(t[n]+"Hidden"in _d){i=t[n]+"Hidden";r=t[n]+"visibilitychange";break}return{hiddenProperty:i,visibilityChangedEventName:r}}function sr(n){return!!(n&&n.hiddenProperty&&n.visibilityChangedEventName)}function hr(n){var t,i;return n?(t=n.querySelector("h2 a"),!t)?null:(i=t.getAttribute("href"),!i)?null:cr(i):null}function cr(n){var t=ei(n,"u");if(!t||!t.startsWith("a1"))return n;try{return t=t.substring(2).replace(/_/g,"/").replace(/-/g,"+"),t=decodeURIComponent(atob(t))}catch(i){return Log.Log("EnLink",n,t,!1),n}}function ei(n,t){var r=new RegExp("[?&]{1}"+t+"=([^&]+)([\\/\\\\][^?#]*)?([?#].*)?","i"),i=n.match(r);return i?i[1]:""}function oi(n){if((!kt||!kt.matches)&&lt&&!dt&&!gt&&!ni){var i=at(n);i&&!wr(i)&&(t=i,nt=sb_st(function(){yr()},pi))}}function lr(n){u=n.currentTarget;yt();oi(u);u&&u.setAttribute("data-rs","true")}function ar(){yt();u&&u.removeAttribute("data-rs");u=null}function vr(n){yt();u&&u.removeAttribute("data-rs");oi(n.currentTarget)}function yt(){nt&&sb_ct(nt);nt=null}function yr(){rt(!0)}function pr(){var f=document.querySelector(".b_rrsr"),n,t,i,r,u;f&&(n=typeof IntersectionObserver!="undefined"&&new IntersectionObserver(function(n){n.forEach(function(n){dt=n.isIntersecting})}),n&&n.observe(f));t=document.querySelector(".b_rs");t&&(i=typeof IntersectionObserver!="undefined"&&new IntersectionObserver(function(n){n.forEach(function(n){gt=n.isIntersecting})}),i&&i.observe(t));r=document.querySelector(".richrswrapper");r&&(u=typeof IntersectionObserver!="undefined"&&new IntersectionObserver(function(n){n.forEach(function(n){ni=n.isIntersecting})}),u&&u.observe(r))}function wr(n){return n.querySelector(".ad_hidenESL")?!0:!1}function pt(){var n;return typeof _G!="undefined"&&((n=_G===null||_G===void 0?void 0:_G.EF)===null||n===void 0?void 0:n.clickbackRSonAdAlgo)===1}function e(){return br()&&document.querySelector("#b_results .b_adMiddle, #b_results .b_adBottom")!==null?!1:typeof _G!="undefined"&&_G.EF!==undefined&&_G.EF.cbRSOnAnswer!==undefined&&_G.EF.cbRSOnAnswer===1}function br(){return typeof _G!="undefined"&&_G.EF!==undefined&&_G.EF.cbRsOnAnswerNoAds!==undefined&&_G.EF.cbRsOnAnswerNoAds===1}function kr(){return typeof _G!="undefined"&&_G.EF!==undefined&&_G.EF.cbRSOnAnswerFlare!==undefined&&_G.EF.cbRSOnAnswerFlare===1}function dr(){return typeof _G!="undefined"&&_G.EF!==undefined&&_G.EF.cbRSOnAnswerCF!==undefined&&_G.EF.cbRSOnAnswerCF===1}function si(){return typeof _G!="undefined"&&_G.EF!==undefined&&_G.EF.cbRSBelowMLTA!==undefined&&_G.EF.cbRSBelowMLTA===1}function gr(n){var t,i,r=document.querySelector(".b_rs");return r?((t=n.classList)===null||t===void 0?void 0:t.contains("b_ans"))&&((i=n.nextElementSibling)===null||i===void 0?void 0:i.querySelector(".b_rs"))?!0:hi(n):!1}function hi(n){if(!n)return!1;var t=_d.querySelectorAll("#b_results > .b_algo, #b_topw .sb_adTA, #b_results .sb_adTA");return t.length>0&&t[t.length-1]===n?!0:!1}function nu(){return typeof _G!="undefined"&&_G.EF!==undefined&&_G.EF.autoShowCBRS===1}function tu(){return typeof _G!="undefined"&&_G.EF!==undefined&&_G.EF.autoShowCBRSFlare===1}function iu(){return typeof _G!="undefined"&&_G.EF!==undefined&&_G.EF.autoShowCBRSCF===1}function ru(){for(var i,n,r,u=document.querySelectorAll(".b_algo"),t=0;t<u.length;t++)if(i=u[t],n=i.getBoundingClientRect(),n.top>=0&&n.left>=0&&n.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&n.right<=(window.innerWidth||document.documentElement.clientWidth)&&(r=i.querySelector("h2 > a"),r))return r;return null}function uu(){var r=document.querySelector(".b_inline_ajax_rs"),u,t,n,f;if((!r||!(r.getBoundingClientRect().top>=0)||!(r.getBoundingClientRect().bottom<=(window.innerHeight||document.documentElement.clientHeight)))&&(u=ru(),u&&i&&(t=u.getAttribute("href"),t)))for(n=0;n<i.length;n++)if(f=i[n],f.getAttribute("href")===t){tu()&&Log&&Log.LogFilterFlare&&Log.LogFilterFlare(["autoShowCBRSFlare"]);iu()||(vt(t,n.toString()),it());break}}function fu(){nu()&&_d.addEventListener("visibilitychange",function(){tt&&(clearTimeout(tt),tt=null);_d.visibilityState==="hidden"&&(tt=setTimeout(function(){uu()},bi))})}var ci=".b_attribution cite, .b_tpcn, .b_adTopIcon_container",p="#b_results > .b_algo a,#b_topw .sb_adTA a,#b_results .sb_adTA a",c="#b_results > .b_algo > h2 > a,#b_results > .b_algo .sp-rn-title  > h2 > a,#b_results > .b_algo .b_imagePair  > h2 > a,#b_results > .b_algo > .b_title > h2 > a,#b_results .sb_adTA > h2 > a,#b_results .sb_adTA >.b_title > h2 > a",w="#b_topw .sb_adTA > h2 > a,#b_topw .sb_adTA >.b_title > h2 > a",li="#b_results > .b_algo,#b_results .sb_adTA",ft="#b_results > .b_ans a",ai="inline_rs",f="b_hide",vi=14,o="b_wpt_top",et="b_ans",ot=or(),s="cbAdUrl",b="cbAdUrlIndex",i,k,wt=null,d=null,st=null,t=null,ht=!1,yi="/recoRS?",g=".b_inline_ajax_rs",ct="b_inline_ajax_rs",bt=!0,r=null,l=null,a=null,pi=typeof _G!="undefined"&&(_G===null||_G===void 0?void 0:_G.CBRSHT)?parseInt(_G.CBRSHT)||600:600,eu=typeof _G!="undefined"&&(_G===null||_G===void 0?void 0:_G.CBRSHTAM)?parseInt(_G.CBRSHTAM)||400:400,wi=typeof _G!="undefined"&&(_G===null||_G===void 0?void 0:_G.CBRSHTonP1)?parseInt(_G.CBRSHTonP1)||3e3:3e3,kt=_w.matchMedia&&_w.matchMedia("(prefers-reduced-motion: reduce)"),lt=!0,nt=null,u=null,dt=!1,gt=!1,ni=!1,v=[],bi=typeof _G!="undefined"&&(_G===null||_G===void 0?void 0:_G.AutoShowCBRSInterval)?parseInt(_G.AutoShowCBRSInterval)||3e5:3e5,tt=null;n.bindEvent=ki})(ClickBackRS||(ClickBackRS={}))